(this["webpackJsonpstory-generation"]=this["webpackJsonpstory-generation"]||[]).push([[0],{179:function(e,t,n){},242:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(11),r=n.n(c),s=(n(179),n(20)),o=n(15),l=n(116),d=n(117),j=n(243),b=n(297),u=n(277),m=n(96),p=n.n(m),h=n(97),g=n.n(h),O="stopped",x="waiting",f="running",y="stopwait",v="continuation",k="prompt",S=n(2),w=[v,k],C=function(e){var t=e.mode,n=e.onModeChanged;return Object(S.jsx)(j.a,{square:!0,children:Object(S.jsxs)(b.a,{value:w.indexOf(t),indicatorColor:"primary",textColor:"primary",variant:"fullWidth",onChange:function(e,t){n(w[t])},children:[Object(S.jsx)(u.a,{label:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(p.a,{}),"Continue Story"]})}),Object(S.jsx)(u.a,{label:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(g.a,{}),"Writing Prompt"]})})]})})},N=n(278),T=n(101),_=n(279),P=n(281),E=n(247),I=n(280),M=Object(N.a)((function(e){return{root:{display:"flex",alignItems:"center",flex:1},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},generateButtonText:{marginRight:e.spacing(1)},circularProgress:{marginLeft:e.spacing(.5)}}})),G=function(e){var t=e.wait,n=e.generationType,i=e.onTextSubmit,c=M(),r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],d=s[1],b=Object(a.useState)("[WP] "),u=Object(o.a)(b,2),m=u[0];u[1];return Object(S.jsxs)(j.a,{component:"form",className:c.root,children:[Object(S.jsx)(T.a,{multiline:!0,className:c.input,placeholder:"Enter some text here...",onChange:function(e){d(e.target.value)}}),Object(S.jsx)(_.a,{className:c.divider,orientation:"vertical"}),Object(S.jsxs)(I.a,{disabled:t||!l.trim(),color:"primary",className:c.iconButton,onClick:function(){l.trim()&&i(l,n===k?m:"")},children:[Object(S.jsx)(E.a,{variant:"button",className:c.generateButtonText,children:Object(S.jsx)("b",{children:"Generate"})}),t?Object(S.jsx)(P.a,{className:c.circularProgress,size:20}):n===k?Object(S.jsx)(g.a,{}):Object(S.jsx)(p.a,{})]})]})},B=n(118),L=n(300),R=n(293),z=n(282),A=n(100),D=n(285),F=n(296),W=n(303),V=n(288),q=n(301),Y=n(157),H=n.n(Y),J=Object(N.a)((function(e){return{slider:{paddingLeft:e.spacing(.5),paddingRight:e.spacing(1)},numberInput:{width:48}}})),U=function(e){var t=e.min,n=e.max,i=e.step,c=e.initial,r=e.onChangesCommitted,s=e.onValidateInput,l=J(),d=Object(a.useState)(c),j=Object(o.a)(d,2),b=j[0],u=j[1];return Object(a.useEffect)((function(){u(c)}),[c]),Object(S.jsx)("div",{className:l.slider,children:Object(S.jsxs)(z.a,{container:!0,spacing:2,direction:"row",alignItems:"center",children:[Object(S.jsx)(z.a,{item:!0,xs:!0,children:Object(S.jsx)(q.a,{value:"number"===typeof b?b:t,valueLabelDisplay:"auto",step:i,min:t,max:n,onChange:function(e,t){u(t)},onChangeCommitted:function(e,t){r(t)}})}),Object(S.jsx)(z.a,{item:!0,children:Object(S.jsx)(H.a,{margin:"dense",className:l.numberInput,value:b,onChange:function(e){u(""===e.target.value?"":Number(e.target.value))},onBlur:function(){var e=b;"number"!==typeof e&&(e=t),e=s(e),u(e),r(e)},inputProps:{step:i,min:t,max:n,type:"number"}})})]})})},Q=Object(N.a)((function(e){return{paper:{padding:e.spacing(2)},slider:{paddingLeft:e.spacing(.5),paddingRight:e.spacing(1)},selectorControl:{width:"100%"},captions:{maxWidth:200}}})),K=function(e){switch(e){case v:return window.ModelConfig.continuationModels;case k:return window.ModelConfig.promptModels;default:return{}}},X=Object(A.a)(Array(5).keys()).map((function(e){return{value:e+1,label:(e+1).toString()}})),Z=function(e){var t=e.generationType,n=e.parameters,i=e.onParametersChanged,c=Q(),r=Object(a.useState)(K(t)),l=Object(o.a)(r,2),d=l[0],b=l[1],u=Object(a.useState)("gpt2"),m=Object(o.a)(u,2),p=m[0],h=m[1],g=Object(a.useState)(n),O=Object(o.a)(g,2),x=O[0],f=O[1],y=Object(a.useState)(20),v=Object(o.a)(y,2),k=v[0],w=v[1],C=Object(a.useState)(10),N=Object(o.a)(C,2),T=N[0],_=N[1],P=Object(a.useState)(5),I=Object(o.a)(P,2),M=I[0],G=I[1];return Object(a.useEffect)((function(){f(n)}),[n]),Object(a.useEffect)((function(){var e=K(t);b(e),h(e[Object.keys(e)[0]])}),[t]),Object(a.useEffect)((function(){i(p,x,T,k,M)}),[i,p,x,T,k,M]),Object(S.jsxs)(z.a,{container:!0,spacing:2,direction:"column",alignItems:"stretch",children:[Object(S.jsx)(z.a,{item:!0,children:Object(S.jsxs)(j.a,{className:c.paper,children:[Object(S.jsx)(E.a,{variant:"h5",component:"h2",align:"left",children:"Parameters"}),Object(S.jsx)(E.a,{variant:"caption",display:"block",align:"justify",color:"textSecondary",className:c.captions,gutterBottom:!0,children:"Apply only to new stories"}),Object(S.jsxs)(z.a,{container:!0,spacing:2,direction:"column",alignItems:"stretch",className:c.root,children:[Object(S.jsxs)(z.a,{item:!0,children:[Object(S.jsx)(E.a,{variant:"body2",align:"left",children:"Model to Use:"}),Object(S.jsxs)(D.a,{className:c.selectorControl,children:[Object(S.jsx)(F.a,{value:p,onChange:function(e){h(e.target.value)},children:Object.keys(d).map((function(e){return Object(S.jsx)(W.a,{value:d[e],children:e},e+d[e])}))}),Object(S.jsx)(V.a,{children:"Select a model to generate text"})]})]}),Object(S.jsxs)(z.a,{item:!0,children:[Object(S.jsx)(E.a,{variant:"body2",align:"left",children:"Temperature:"}),Object(S.jsx)(E.a,{variant:"caption",display:"block",align:"justify",color:"textSecondary",className:c.captions,gutterBottom:!0,children:"Control the randomness of the generated text. Lowering the value produces less random and more coherent results. Increasing the value produces more random and less repetitive results."}),Object(S.jsx)(U,{min:.5,max:1.5,initial:"undefined"!==typeof x.temperature?x.temperature:1,step:.01,onChangesCommitted:function(e){f(Object(s.a)(Object(s.a)({},x),{},{temperature:e}))},onValidateInput:function(e){return e<.001?.01:e>=3?3:e}})]}),Object(S.jsxs)(z.a,{item:!0,children:[Object(S.jsx)(E.a,{variant:"body2",align:"left",children:"Top-p Sampling:"}),Object(S.jsx)(E.a,{variant:"caption",display:"block",align:"justify",color:"textSecondary",className:c.captions,gutterBottom:!0,children:"Nucleus sampling, select the least amount of tokens that combines to a probability of p. Set 1 to disable top p sampling."}),Object(S.jsx)(U,{min:.01,max:1,initial:"undefined"!==typeof x.top_p?x.top_p:1,step:.01,onChangesCommitted:function(e){f(Object(s.a)(Object(s.a)({},x),{},{top_p:e}))},onValidateInput:function(e){return e<.001?.01:e>=1?1:e}})]}),Object(S.jsxs)(z.a,{item:!0,children:[Object(S.jsx)(E.a,{variant:"body2",align:"left",children:"Top-k Sampling:"}),Object(S.jsx)(E.a,{variant:"caption",display:"block",align:"justify",color:"textSecondary",className:c.captions,gutterBottom:!0,children:"Select at most k tokens only Set 1 for greedy sampling. Set 0 to disable top k sampling which selects unlimited tokens."}),Object(S.jsx)(U,{min:0,max:200,initial:"undefined"!==typeof x.top_k?x.top_k:0,step:1,onChangesCommitted:function(e){f(Object(s.a)(Object(s.a)({},x),{},{top_k:e}))},onValidateInput:function(e){return(e=Math.round(e))<0?0:e}})]})]})]})}),Object(S.jsx)(z.a,{item:!0,children:Object(S.jsxs)(j.a,{className:c.paper,children:[Object(S.jsx)(E.a,{variant:"h5",component:"h2",gutterBottom:!0,align:"left",children:"Options"}),Object(S.jsxs)(z.a,{container:!0,spacing:2,direction:"column",alignItems:"stretch",className:c.root,children:[Object(S.jsxs)(z.a,{item:!0,children:[Object(S.jsx)(E.a,{variant:"body2",align:"left",children:"Stories to Generate:"}),Object(S.jsx)(E.a,{variant:"caption",display:"block",align:"justify",color:"textSecondary",className:c.captions,gutterBottom:!0,children:'Each time you click "Generate"'}),Object(S.jsx)("div",{className:c.slider,children:Object(S.jsx)(q.a,{defaultValue:5,valueLabelDisplay:"auto",step:1,marks:X,min:1,max:5,onChangeCommitted:function(e,t){G(t)}})})]}),Object(S.jsxs)(z.a,{item:!0,children:[Object(S.jsx)(E.a,{variant:"body2",align:"left",children:"Minimum Length:"}),Object(S.jsxs)(E.a,{variant:"caption",display:"block",align:"justify",color:"textSecondary",className:c.captions,gutterBottom:!0,children:["Generate at least ",T," tokens long"]}),Object(S.jsx)("div",{className:c.slider,children:Object(S.jsx)(q.a,{defaultValue:10,valueLabelDisplay:"auto",step:1,min:1,max:30,onChangeCommitted:function(e,t){_(t)}})})]}),Object(S.jsxs)(z.a,{item:!0,children:[Object(S.jsx)(E.a,{variant:"body2",align:"left",children:"Pausing Length:"}),Object(S.jsxs)(E.a,{variant:"caption",display:"block",align:"justify",color:"textSecondary",className:c.captions,gutterBottom:!0,children:["Generate at most ",k,' tokens before requiring "Generate More"']}),Object(S.jsx)("div",{className:c.slider,children:Object(S.jsx)(q.a,{defaultValue:20,valueLabelDisplay:"auto",step:1,min:1,max:50,onChangeCommitted:function(e,t){w(t)}})})]})]})]})})]})},$=n(292),ee=n(289),te=n(291),ne=n(299),ae=n(290),ie=Object(N.a)({textField:{width:"100%"},textRenderArea:{whiteSpace:"pre-line",wordBreak:"break-word"}}),ce=function(e){var t,n,i=e.samplerName,c=e.mode,r=e.prompt,s=e.text,l=e.model,d=e.params,j=e.onEditModeChange,b=e.onEditText,u=e.onGenerate,m=e.onStopGenerate,p=ie(),h=Object(a.useState)(s),g=Object(o.a)(h,2),O=g[0],x=g[1];switch(c){case"edit":t=Object(S.jsx)(ne.a,{className:p.textField,defaultValue:s,onChange:function(e){x(e.target.value)},multiline:!0}),n=Object(S.jsxs)(ee.a,{children:[Object(S.jsx)(I.a,{disabled:(!r||!r.trim())&&(!O||!O.trim()),size:"small",color:"primary",onClick:function(){b(i,O)},children:Object(S.jsx)("b",{children:"Confirm"})}),Object(S.jsx)(I.a,{size:"small",color:"primary",onClick:function(){j(i,!1)},children:Object(S.jsx)("b",{children:"Cancel"})})]});break;case"idle":t=Object(S.jsx)(E.a,{className:p.textRenderArea,variant:"body1",align:"left",children:s}),n=Object(S.jsxs)(ee.a,{children:[Object(S.jsx)(I.a,{size:"small",color:"primary",onClick:function(){u(i)},children:Object(S.jsx)("b",{children:"Generate More"})}),Object(S.jsx)(I.a,{size:"small",color:"primary",onClick:function(){x(s),j(i,!0)},children:Object(S.jsx)("b",{children:"Edit"})})]});break;case"waiting":t=Object(S.jsx)(E.a,{className:p.textRenderArea,variant:"body1",align:"left",children:s}),n=Object(S.jsxs)(ee.a,{children:[Object(S.jsx)(I.a,{disabled:!0,size:"small",color:"primary",children:Object(S.jsx)("b",{children:"Generate More"})}),Object(S.jsx)(P.a,{size:20})]});break;case"running":t=Object(S.jsx)(E.a,{className:p.textRenderArea,variant:"body1",align:"left",children:s}),n=Object(S.jsx)(ee.a,{children:Object(S.jsx)(I.a,{size:"small",color:"secondary",onClick:function(){m(i)},children:Object(S.jsx)("b",{children:"Stop Generation"})})});break;case"stopwait":t=Object(S.jsx)(E.a,{className:p.textRenderArea,variant:"body1",align:"left",children:s}),n=Object(S.jsxs)(ee.a,{children:[Object(S.jsx)(I.a,{disabled:!0,size:"small",color:"secondary",children:Object(S.jsx)("b",{children:"Stop Generation"})}),Object(S.jsx)(P.a,{size:20})]})}return Object(S.jsx)(ae.a,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(S.jsxs)(te.a,{children:[Object(S.jsxs)($.a,{children:[Object(S.jsx)(E.a,{variant:"body2",align:"right",color:"textSecondary",children:[].concat(Object(A.a)(Object.keys(d).map((function(e){return"".concat(e,"=").concat(d[e])}))),["model=".concat(l)]).join(", ")}),Object(S.jsxs)(E.a,{variant:"body2",align:"left",color:"textSecondary",children:["Story ",i,":"]}),r&&Object(S.jsx)(E.a,{variant:"body2",align:"left",color:"textSecondary",children:r}),t]}),Object(S.jsx)(_.a,{orientation:"horizontal"}),n]})})};ce.defaultProps={editMode:!1,text:""};var re=ce,se=n(119),oe=n.n(se),le=Object(N.a)((function(e){return{paper:{padding:e.spacing(2)},h3:{marginTop:16},li:{marginBottom:10}}})),de=function(e){var t=e.samplers,n=e.onSamplerChanged,i=e.onStartGenerate,c=e.onModelParametersPresetChanged,r=le(),s=Object(a.useState)(new Set),l=Object(o.a)(s,2),d=l[0],b=l[1],u=function(e,t){var n=new Set(d);t?n.add(e):n.delete(e),b(n)},m=function(e,a){t[e].generatedText=a,u(e,!1),n()},p=function(e){i(e)},h=function(e){var a=t[e];a.state===f?(t[e].state=y,n()):console.log("WARN: Sampler ".concat(e," is in not in running state (").concat(a.state,"). Stop command ignored."))},g=Object.keys(t).slice(0).reverse().map((function(e){var n=t[e],a="";a=n.state===O?d.has(n.id)?"edit":"idle":n.state;var i="";n.belongingTask.generationType===k&&(i=n.belongingTask.originalPrompt);var c=n.generatedText,r=n.belongingTask.modelParams,s=n.belongingTask.modelName;return Object(S.jsx)(z.a,{item:!0,children:Object(S.jsx)(re,{samplerName:e,mode:a,prompt:i,text:c,model:s,params:r,onEditModeChange:u,onEditText:m,onGenerate:p,onStopGenerate:h})},e)}));return Object(S.jsxs)(z.a,{container:!0,spacing:2,direction:"column",alignItems:"stretch",children:[Object(S.jsx)(oe.a,{direction:"left",in:g.length<=0,unmountOnExit:!0,appear:!1,children:Object(S.jsx)(z.a,{item:!0,children:Object(S.jsxs)(j.a,{className:r.paper,children:[Object(S.jsx)(E.a,{variant:"h5",component:"h2",align:"left",gutterBottom:!0,children:"Quick Start Guide"}),Object(S.jsx)(_.a,{orientation:"horizontal"}),Object(S.jsx)(E.a,{variant:"body1",component:"span",children:Object(S.jsxs)("ol",{children:[Object(S.jsx)("li",{children:"Select a model of your choice in the Parameters menu"}),Object(S.jsx)("li",{children:"Enter some text in the textbox above"}),Object(S.jsxs)("li",{children:["Click ",Object(S.jsx)("b",{children:"Generate"})]}),Object(S.jsxs)("li",{children:["Find a story that interests you and click ",Object(S.jsx)("b",{children:"Generate More"})]}),Object(S.jsxs)("li",{children:["Stop and Resume the generation or ",Object(S.jsx)("b",{children:"Edit"})," the output before resuming."]})]})})]})})}),Object(S.jsx)(oe.a,{direction:"left",in:g.length<=0,unmountOnExit:!0,appear:!1,children:Object(S.jsx)(z.a,{item:!0,children:Object(S.jsxs)(j.a,{className:r.paper,children:[Object(S.jsx)(E.a,{variant:"h5",component:"h2",align:"left",gutterBottom:!0,children:"Tips and Tricks"}),Object(S.jsx)(_.a,{orientation:"horizontal"}),Object(S.jsxs)(E.a,{variant:"body1",component:"span",children:[Object(S.jsx)(E.a,{variant:"h6",component:"h3",align:"left",className:r.h3,children:"Model Parameters"}),Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{className:r.li,children:["The default configuration does not filter any tokens before sampling, which could lead to infrequent / non-related words being generated by a low chance. You should experiment with ",Object(S.jsx)("b",{children:"top-k/top-p"})," sampling methods by changing the values in the Parameters menu."]}),Object(S.jsxs)("li",{className:r.li,children:["To start off, we recommend trying the simplest ",Object(S.jsx)("button",{onClick:function(){c("top-k=50",{top_k:50})},children:"top-k=50"})," filtering. Clicking the button will set the sampler to sample only the top 50 most likely tokens from the model's probability distribution. This will replace your current settings."]}),Object(S.jsx)("li",{className:r.li,children:"You can also try mixing sampling methods. If both top-k and top-p sampling is set, top-p filtering will first be applied. If the remaining number of token exceeds top-k, the least likely tokens will be filtered so that the number of remaining tokens is equal or less than k."}),Object(S.jsx)("li",{children:"You can also try tweaking the temperature value to control the probability distribution. Lowering the temperature further increase the chance of high-probability tokens to be generated while increasing the value increases the chances of low-probability tokens to be generated. If you find the model produce incoherent results, try reducing the value. If you find the model produce repetitive results, try increasing the value."})]}),Object(S.jsx)(E.a,{variant:"h6",component:"h3",align:"left",className:r.h3,children:"Generation Types"}),Object(S.jsx)("p",{children:"You can set the generation type on the top of the page. There are currently 2 modes:"}),Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{className:r.li,children:[Object(S.jsx)("b",{children:"Continue Story:"})," The model tries you continue writing from the text you have inputted in the textbox."]}),Object(S.jsxs)("li",{className:r.li,children:[Object(S.jsx)("b",{children:"Writing Prompt:"})," The model tries to write you a story based on the context given in the textbox. You can try something like ",Object(S.jsx)("u",{children:"Scientists have discovered the most deadly material"})," instead of thinking for a story opening."]})]})]})]})})}),g]})},je=(n(240),n(99)),be=n(158),ue=n.n(be),me=n(298),pe=n(295),he=n(294),ge=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"get_new_id",value:function(){return"T".concat(++e.tasksCreated)}},{key:"new_continuation_task",value:function(t,n,a){var i=new e;return i.id=e.get_new_id(),i.modelName=t,i.generationType=v,i.prefix=n,i.modelParams=a,e.tasks[i.id]=i,i}},{key:"new_prompt_task",value:function(t,n,a,i){var c=new e;return c.id=e.get_new_id(),c.modelName=t,c.generationType=k,c.originalPrompt=n,c.prefix=a,c.modelParams=i,e.tasks[c.id]=c,c}}]),e}();ge.tasksCreated=0,ge.tasks={};var Oe=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"get_new_id",value:function(){return"#".concat(++e.samplersCreated)}},{key:"create_sampler",value:function(t){var n=new e;return n.id=e.get_new_id(),n.belongingTask=t,n.generatedText="",n.state=O,e.samplers[n.id]=n,n}}]),e}();Oe.samplersCreated=0,Oe.samplers={};var xe=Object(N.a)((function(e){return{grid:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},initMsgBox:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingBottom:e.spacing(2),textAlign:"left"}}})),fe=null;var ye=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)({}),r=Object(o.a)(c,2),l=r[0],d=r[1],j=Object(a.useState)(null),b=Object(o.a)(j,2),u=b[0],m=b[1],p=Object(a.useState)({}),h=Object(o.a)(p,2),g=h[0],w=h[1],N=Object(a.useState)("gpt2"),T=Object(o.a)(N,2),_=T[0],P=T[1],E=Object(a.useState)(v),I=Object(o.a)(E,2),M=I[0],A=I[1],D=Object(a.useState)(20),F=Object(o.a)(D,2),W=F[0],V=F[1],q=Object(a.useState)(10),Y=Object(o.a)(q,2),H=Y[0],J=Y[1],U=Object(a.useState)(5),Q=Object(o.a)(U,2),K=Q[0],X=Q[1],$=Object(je.b)(),ee=$.enqueueSnackbar,te=$.closeSnackbar,ne=function(e,t){var n=ge.tasks[e];for(var a in t){var i=Oe.create_sampler(n);t.hasOwnProperty(a)&&(i.generatedText=t[a],n.generationType===v&&(i.generatedText=n.prefix+i.generatedText))}n.generationType===v&&(n.prefix=""),m(null),d(Object(s.a)({},Oe.samplers))},ae=function(e,t,n){switch(Oe.samplers[e].generatedText+=t,Oe.samplers[e].state){case x:n(!0),Oe.samplers[e].state=f;break;case f:n(!0);break;case y:n(!1),Oe.samplers[e].state=O;break;default:n(!1),Oe.samplers[e].state=O,console.log("WARN: Sampler ".concat(e," in wrong state. Forcefully setting it to stopped state."))}d(Object(s.a)({},Oe.samplers))},ie=function(e){Oe.samplers[e].state=O,d(Object(s.a)({},Oe.samplers))},ce=function(e){for(var t in console.log("[NET] Disconnected from server: ".concat(e,". Cleaning up...")),Oe.samplers)Oe.samplers.hasOwnProperty(t)&&(Oe.samplers[t].state=O);m(null),i(null),d(Object(s.a)({},Oe.samplers)),null===fe&&(fe=ee("Disconnected. Reconnecting...",{variant:"warning",autoHideDuration:null}))},re=Object(a.useCallback)((function(e,t,n,a,i){P(e),w(t),J(n),V(a),X(i)}),[]);Object(a.useEffect)((function(){var e;(e=window.APILocation?Object(B.io)(window.APILocation):Object(B.io)()).on("on_generate_completed",ne),e.on("on_text",ae),e.on("on_text_sample_completed",ie),e.on("disconnect",ce),e.on("connect",(function(){console.log("[NET] Connected to server."),i(e),null!=fe&&(te(fe),fe=null),ee("Connected!",{variant:"success"})})),null===fe&&(fe=ee("Connecting to inference API...",{variant:"default",transitionDuration:{enter:1,exit:136},autoHideDuration:null}))}),[]),Object(a.useEffect)((function(){console.log("[INFO] Selected model:",_)}),[_]),Object(a.useEffect)((function(){console.log("[INFO] Parameters selected: ",g)}),[g]),Object(a.useEffect)((function(){console.log("[INFO] Generate options changed: Type:",M,"MinLength:",H,"MaxLength:",W,"SequenceCount:",K)}),[M,H,W,K]);var se=xe();return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)("h1",{children:" Creative Story Generator Using GPT-2 "}),Object(S.jsx)(R.a,{maxWidth:"xs",children:Object(S.jsx)(C,{mode:M,onModeChanged:function(e){return A(e)}})}),Object(S.jsx)(R.a,{children:Object(S.jsxs)(L.a,{p:2,children:[Object(S.jsx)(G,{wait:null==n||null!=u,generationType:M,onTextSubmit:function(e,t){var a;if(M===v)a=ge.new_continuation_task(_,e,g);else if(M===k){var i=t+e;a=ge.new_prompt_task(_,i,"<|endoftext|>".concat(i," [RESPONSE] "),g)}m(a.id),n.emit("generate_text",a.id,a.modelName,a.prefix,W,Object(s.a)(Object(s.a)({},g),{},{min_length:H}),K)}}),null!=n&&null!=u&&Object(S.jsx)(ue.a,{})]})}),null!=n&&null!=u&&Object(S.jsx)(he.a,{in:null!=n&&null!=u,children:Object(S.jsx)(R.a,{children:Object(S.jsx)(L.a,{className:se.initMsgBox,children:Object(S.jsxs)(me.a,{severity:"success",children:[Object(S.jsx)(pe.a,{children:Object(S.jsx)("strong",{children:"Initializing Model..."})}),"This could take up to 10 seconds when changing models. Subsequent generation of the same model will be significantly faster.","gpt2"===ge.tasks[u].modelName&&Object(S.jsxs)("span",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("b",{children:"You have selected the original pretrained gpt2-small model. The model needs to be downloaded. This might take some additional time."})]})]})})})}),Object(S.jsx)(R.a,{children:Object(S.jsxs)(z.a,{container:!0,spacing:2,className:se.grid,children:[Object(S.jsx)(z.a,{item:!0,children:Object(S.jsx)(Z,{generationType:M,parameters:g,onParametersChanged:re})}),Object(S.jsx)(z.a,{item:!0,xs:!0,children:Object(S.jsx)(de,{samplers:l,onSamplerChanged:function(){d(Object(s.a)({},Oe.samplers))},onStartGenerate:function(e){var t=Oe.samplers[e];t.state===O?(t.state=x,n.emit("start_new_sampler",e,t.belongingTask.modelName,t.belongingTask.prefix+t.generatedText,Object(s.a)(Object(s.a)({},t.belongingTask.modelParams),{},{min_length:H})),d(Object(s.a)({},Oe.samplers))):console.log("WARN: Sampler ".concat(e," is in not in stopped state (").concat(t.state,"). Generate command ignored."))},onModelParametersPresetChanged:function(e,t){w(t),ee("Preset applied: ".concat(e),{variant:"info",preventDuplicate:!0})}})})]})})]})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,304)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(je.a,{maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"bottom"},transitionDuration:{enter:157,exit:136},autoHideDuration:3e3,children:Object(S.jsx)(ye,{})})}),document.getElementById("root")),ve()}},[[242,1,2]]]);
//# sourceMappingURL=main.093445a1.chunk.js.map